<div class=" m-3 p-4  border"> 

    <div class=" col-6 float-right" *ngIf="editProfile">
        <div >
            <form [formGroup]="editUserDetailsForm" (ngSubmit)="submitForm()">

                    <mat-form-field appearance="fill">
                    <mat-label>Enter FirstName</mat-label>
                    <input matInput placeholder="" formControlName="firstName">
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                    <mat-label>Enter LastName</mat-label>
                    <input matInput placeholder="" formControlName="lastName">
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                    <mat-label>Change Email</mat-label>
                    <input matInput placeholder="" formControlName="email">
                    </mat-form-field>

                    <div>
                        <p class="clearfix"></p>
                        <div class="float-left">
                            <mat-form-field  appearance="fill">
                            <mat-label>Change Password</mat-label>
                            <input matInput placeholder="" formControlName="password" [type]="hide ? 'password' : 'text'">
                            <small *ngIf="editUserDetailsForm.errors ?.passwordsNotEqual" class="text-danger">Passwords do not match</small>
                            </mat-form-field>
                        </div>
                
                        <mat-form-field appearance="fill">
                        <mat-label>Confirm Password</mat-label>
                        <input matInput placeholder="" formControlName="confirmPassword" [type]="hide ? 'password' : 'text'">
                        <small *ngIf="editUserDetailsForm.errors ?.passwordsNotEqual" class="text-danger">Passwords do not match</small>
                        </mat-form-field>

                        <mat-icon matSuffix  class="ml-3"  (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </div>

                    <br>
                    <div formGroupName="address">

                        <mat-form-field appearance="fill">
                            <mat-label>Selected Country</mat-label>
                            <mat-select ([ngModel])="userModel.address.country" formControlName="country">
                                <mat-option value="Romania">Romania</mat-option>
                                <mat-option value="Hungary">Hungary</mat-option>
                                <mat-option value="UK">UK</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="fill">
                            <mat-label>Enter You're City</mat-label>
                            <input matInput placeholder="" formControlName="city">
                        </mat-form-field>

                        <mat-form-field appearance="fill">
                            <mat-label>Enter You're Street</mat-label>
                            <input matInput placeholder="" formControlName="street">
                        </mat-form-field>

                        <mat-form-field appearance="fill">
                            <mat-label>Enter You're Street Number</mat-label>
                            <input matInput placeholder="" formControlName="number">
                        </mat-form-field>

                    </div>
                    <button mat-raised-button color="accent" class="ml-4 mt-2" (click)="enableEdit()"
                    [disabled]="formSubmitted || editUserDetailsForm.invalid"
                    [class.btn-secondary]="formSubmitted && editUserDetailsForm.invalid"
                    >Update Profile</button>
                </form>
        </div>
    </div> 

    <div class="cBorder height detailsContainer col-5">

        <div class="p-2">
            <h1 class="float-left">My Profile</h1>
            <button mat-raised-button color="warn" class="ml-4 mt-2" (click)="enableEdit()">Edit Profile</button>
        </div>
        <div class="p-4 ">
            
                <div>
                    <h3>Account Details</h3>
                    <table class="m-4">
                        <tr><td>FirstName:</td><td>{{userModel.firstName}}</td></tr>
                        <tr><td>LastName:</td><td>{{userModel.lastName}}</td></tr>
                        <tr><td>Email:</td><td>{{userModel.email}}</td></tr>
                    </table>
                </div>  
            <br>
                <div> 
                    <h3>User Address<Address></Address></h3>
                    <table class="m-4 ">
                        <tr><td>Country:</td><td>{{userModel.address.country || '(None)'}}</td></tr>
                        <tr><td>City:</td><td>{{userModel.address.city || '(None)'}}</td></tr>
                        <tr><td>Street:</td><td>{{userModel.address.street || '(None)'}}</td></tr>
                        <tr><td>Nr:</td><td>{{userModel.address.number || '(None)'}}</td></tr>
                    </table>
                </div>

           </div>
    </div>

     
</div>
